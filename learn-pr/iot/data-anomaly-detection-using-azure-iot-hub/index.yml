### YamlMime:Module
uid: learn.iot.data-anomaly-search-using-iot-hub
metadata:
  title: Identify anomalies by routing data via IoT Hub to a built-in ML model in Azure Stream Analytics
  description:  Learn about Azure IoT Hub message routing, and Stream Analytics anomaly detection. Start by creating an app that simulates issues with conveyor belt vibration. Then, use the Azure portal to route all the data for archiving in blob storage. Finish by routing the vibration data to anomaly detection, using a built-in ML model.
  ms.date: 11/26/2019
  author: PeterTurcan
  ms.author: obloch
  ms.topic: interactive-tutorial
  ms.prod: learning-azure
title: Identify anomalies by routing data via IoT Hub to a built-in ML model in Azure Stream Analytics
summary: >
  Learn about Azure IoT Hub message routing, and Stream Analytics anomaly detection. Start by creating an app that simulates issues with conveyor belt vibration. Then, use the Azure portal to route all the data for archiving in blob storage. Finish by routing the vibration data to anomaly detection, using a built-in ML model.
abstract: | 
  In this module, you will:
  - Create an Azure IoT Hub, using the Azure portal
  - Create an Azure IoT Hub device identity, using the Azure portal
  - Create a C# app to send device telemetry to the IoT Hub, using Visual Studio or Visual Studio code
  - Create a message route, through to blob storage, using the Azure portal
  - Create a second message route, through to an Azure Analytics job, using the Azure portal
  - Create a dashboard to visualize data anomalies, using Power BI
prerequisites: | 
  - An introductory knowledge of Azure IoT
  -	Ability to navigate the Azure IoT portal 
  -	Ability to use C#, at the beginner level
  -	Experience using Visual Studio, or Visual Studio Code, at the beginner level
  - A Microsoft account, to log into Office Power BI
iconUrl: /learn/achievements/iot/iot-hub-conveyor-belt-vibration-detection.svg
ratingEnabled: true
levels:
- beginner
roles:
- developer
products:
- azure-iot
- azure-iot-hub
- azure-stream-analytics
- azure-storage
- power-bi
units:
- learn.iot.data-anomaly-search-using-iot-hub.introduction
- learn.iot.data-anomaly-search-using-iot-hub.create-iot-hub-device-id
- learn.iot.data-anomaly-search-using-iot-hub.write-code-device-telemetry
- learn.iot.data-anomaly-search-using-iot-hub.exercise-write-code-device-telemetry
- learn.iot.data-anomaly-search-using-iot-hub.create-iot-stream-analytics-job
- learn.iot.data-anomaly-search-using-iot-hub.exercise-create-iot-stream-analytics-job
- learn.iot.data-anomaly-search-using-iot-hub.search-anomalies-built-in-model-query
- learn.iot.data-anomaly-search-using-iot-hub.exercise-search-anomalies-built-in-model-query
- learn.iot.data-anomaly-search-using-iot-hub.summary
badge:
  uid: learn.iot.iot-hub-conveyor-belt-vibration-detection.badge