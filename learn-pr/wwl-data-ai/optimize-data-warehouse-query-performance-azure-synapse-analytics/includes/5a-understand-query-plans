distributed query plans themselves. 
*How to obtain a query plan
## How to obtain a query plan in Azure Synapse Analytics dedicatedd SQL Pool ##

Often Database Engineers and Database Administrators have a need to analysi and investigate query execution in SQL Pools. This is done through the use of dynamic management views (DMVs).
> [!Note] 
> Permissions to query the DMVs require either ** VIEW DATABASE STATE ** or ** CONTROL ** permission, in typical scenarios, granting ** VIEW DATABASE STATE ** is the preferred method as it is more restrictive
> ``` SQL
> GRANT VIEW DATABASE STATE to TestUser; 
> ```

> [!Warning]
> An attacker can use **sys.dm_pdw_exec_requests** to retrieve information about specific database objects by simply having VIEW SERVER STATE permission and by not having database-specific permission.
>
Azure Snyapse queries which are executed are logged, ** sys.dm_pdw_exec_requests ** contains the last 10,000 queries executed. 
you can use the following query to determine the top 10 longest running queries 
```SQL
SELECT TOP 10 request_id, status, total_elapsed_time
FROM sys.dm_pdw_exec_requests
WHERE status not in ('completed', 'Failed','Cancelled')
ORDER BY total_elapsed_time DESC
```


*how to read a query plan
*Example of a bad operation (like a huge broadcast)
*how to fix issues with query plans (stats, query design, table design, etc)