Azure blob and file datastores are the most commonly used. You can use the Azure Machine Learning SDK to work directly with these datastores, and to pass *data references* to scripts that need to access data.

## Working directly with a datastore

You can work directly with a datastore to upload and download data by using the methods of the **datastore** class, like this:

```python
blob_ds.upload(src_dir='/files',
               target_path='/data/files',
               overwrite=True, show_progress=True)

blob_ds.download(target_path='downloads',
                 prefix='/data',
                 show_progress=True)
```

## Using data references

When you want to use a datastore in an experiment script, you must pass a data reference to the script. The data reference is configured for one of the following data access modes:

- **Download**: The contents of the path associated with the data reference is downloaded to the compute context where the experiment is running.
- **Upload**: The files generated by your experiment script are uploaded to the datastore after the run completes.
- **Mount**: The path on the datastore is mounted as remote storage in the experiment compute context, enabling the contents to be accessed remotely (note that this mode is only available when the experiment is run on a remote compute target - you cannot use this mode with local compute).

To pass the data reference to an experiment script, you must define a script parameter as shown here:

```python
data_ref = blob_ds.path('data/files').as_download(path_on_compute='training_data')
estimator = SKLearn(source_directory='experiment_folder',
                    entry_script='training_script.py'
                    compute_target='local',
                    script_params = {'--data_folder': data_ref})
```

In your training script, you can retrieve the parameter and use it like a local folder:

```python
import os
import argparse

parser = argparse.ArgumentParser()
parser.add_argument('--data_folder', type=str, dest='data_folder')
args = parser.parse_args()
data_files = os.listdir(args.data_folder)
```
