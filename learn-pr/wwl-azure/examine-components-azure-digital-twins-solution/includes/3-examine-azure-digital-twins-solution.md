Azure Digital Twins is typically used together with other services to create flexible, connected solutions that use your data in various workflows.

 -  Using event routes, Azure Digital Twins can receive data from upstream services such as IoT Hub or Logic Apps, which are used to deliver telemetry and notifications.
 -  Azure Digital Twins can also route data to downstream services, such as Azure Maps and Time Series Insights, for storage, workflow integration, analytics, and more.

## Data ingress

Azure Digital Twins can be driven with data and events from any serviceâ€”IoT Hub, Logic Apps, your own custom service, and more. This capability allows you to collect telemetry from physical devices in your environment, and process this data using the Azure Digital Twins graph in the cloud.

Instead of having a built-in IoT Hub behind the scenes, Azure Digital Twins allows you to "bring your own" IoT Hub to use with the service. You can use an existing IoT Hub you currently have in production, or deploy a new one to be used for this purpose. This capability gives you full access to all of the device management capabilities of IoT Hub.

To ingest data from any source into Azure Digital Twins, use an Azure function.

## Data egress services

Azure Digital Twins can send data to connected endpoints. Supported endpoints can be:

 -  Event Hubs
 -  Event Grid
 -  Service Bus

Endpoints are attached to Azure Digital Twins using management APIs or the Azure portal.

There are many other services where you may want to ultimately direct your data, such as Azure Storage, Azure Maps, or Time Series Insights. To send your data to services like these, attach the destination service to an endpoint.

For example, if you are also using Azure Maps and want to correlate location with your Azure Digital Twins twin graph, you can use Azure Functions with Event Grid to establish communication between all the services in your deployment.

## Azure Digital Twins in a solution context

Azure Digital Twins is commonly used in combination with other Azure services as part of a larger IoT solution.

A complete solution using Azure Digital Twins may contain the following parts:

 -  The Azure Digital Twins service instance. The Azure Digital Twins service stores your twin graph with its state and orchestrates event processing.
 -  One or more client apps that may be used when building the Azure Digital Twins solution (to create digital entities and a topology, or to extract insights from the twin graph).
 -  One or more external compute resources to process events generated by Azure Digital Twins, or by connected data sources such as devices. One common way to provide compute resources is via Azure Functions.
 -  An IoT hub to provide device management and IoT data stream capabilities.
 -  Downstream services to handle tasks such as workflow integration (like Logic Apps, cold storage, time series integration, or analytics).

:::image type="content" source="../media/m11-l02-adt-solution-services-24939866.png" alt-text="Diagram that shows an Azure Digital Twins solution with connections to upstream and downstream systems.":::
