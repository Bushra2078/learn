### YamlMime:Tutorial
uid: learn.azure-cli-2.subnet-test
title: Creating a new VM on the existing subnet | Microsoft Docs
metadata:
  title: Creating a new VM on the existing subnet
  description: Create a new VM.
  audience: Developer
  level: Beginner
  ms.topic: get-started-article
  displayType: two-column
  interactive: azurecli
  ms.custom:
  ms.prod:
  ms.technology: azure
items:
- durationInMinutes: 3
  content: |
    The second VM uses the existing subnet. You can skip a few steps to get the public IP address of the new VM stored into an environment
        variable right away, since it's returned in the VM creation information. If you'd need other information about the VM later, it can always be
        obtained from the `az vm show` command.

        ```bash
        VM2_IP_ADDR=$(az vm create -g TutorialResources \
           -n TutorialVM2 \
          --image UbuntuLTS \
          --generate-ssh-keys \
          --subnet $SUBNET_ID \
          --query publicIpAddress \
          -o tsv)
           ```

        Using the stored IP address, SSH into the newly created VM.

        ```bash
        ssh $VM2_IP_ADDR
        ```

        Go ahead and log out from the VM.

- durationInMinutes: 2
  title: Cleanup
  content: |-
    Now that the tutorial is complete, it's time to clean up the created resources. You
    can delete individual resources with the `delete` command, but the safest way to remove all resources
    in a resource group is with `group delete`.

    ```azurecli
    az group delete --name TutorialResources --no-wait
    ```

    This command deletes the resources created during the tutorial, and is guaranteed to deallocate
    them in the correct order. The `--no-wait` parameter keeps the CLI from blocking while the
    deletion takes place. If you want to wait until the deletion is complete or watch it progress, use the `group wait` command.

    ```azurecli
    az group wait --name TutorialResources --deleted
    ```

    With cleanup completed, the tutorial is finished. Continue on for a summary of everything
    you learned and links to resources that will help you with your next steps.
challenge:
  uid: learn.azure-cli-2-subnet.quiz
  type: quiz