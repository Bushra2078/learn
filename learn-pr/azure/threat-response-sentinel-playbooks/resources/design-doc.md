# Module: Respond to threats using Sentinel Playbooks

## Learner roles

- administrator
- auditor
- risk practitioner
- security engineer
- solution architect
- student
- technology manager

## Learner level

- **Intermediate** : Material that assumes some knowledge but little in-depth understanding of the topic. Provides a detailed overview of a topic&#39;s sub-areas.

## Products taught

- Azure Sentinel
- Azure Log Analytics workspace
- Azure Logic Apps

## Prerequisites

In order to get the best learning experience from this module, you should have knowledge and experience of the following:

- Automation and monitoring.
- Experience working with Azure Monitor and its Log Analytics workspace
- Experience working with Azure Logic Apps

## Module summary description

In this module you will learn about Security, Orchestration, Automation and Response (SOAR) capabilities of Azure Sentinel.

## Subtasks in this module

- How to create a Playbook to automate response
- How to provide real-time automation
- How to call a Playbook from the incident on-demand

## Lab exercise

- Draft lab exercise title: Creating Azure Sentinel playbook
  - Task 1. Add a playbook from Logic App
  - Task 2. Add a Azure Sentinel connector in Logic App
  - Task 3. Add a trigger to Azure Sentinel Connection
  - Task 4. Add an action
  - Task 5. Test the result of the playbook
- The lab will demonstrate how to automate a response on a security threat by creating Azure Sentinel playbook.
- Feasibility questions or concerns?

## Module learning objectives

After completing this module, you&#39;ll be able to:

- Explain the SOAR capabilities of Azure Sentinel
- Explore the Azure Sentinel connector
- Create a playbook to automate a response to incident
- Run a playbook on demand in response to incident

## Estimated module duration

 45 minutes

## Module outline of units

1. Introduction
2. What are Azure Sentinel playbooks?
3. Trigger playbooks in real-time
4. Run playbooks on demands
5. Exercise unit
6. Summary

## 1st unit: Introduction

**Type of unit:** Introduction unit

**Estimated unit duration:** 3 mins

### Module scenario

Contoso is a medium-size financial services company in London with a branch office in New York. Contoso has moved aggressively to Azure services, and it currently uses Microsoft 365 and Azure Active Directory (Azure AD). It also uses Azure AD Identity Protection, Cloud App Security, Azure Advanced Threat Protection (Azure ATP), Microsoft Defender for Endpoint, Microsoft Office 365 Advanced Threat Protection, Endpoint Protection, and Microsoft Azure Information Protection. Contoso is also using the paid version of Azure Security Center for threat protection for resources that are running on Azure and on-premises. Additionally, Contoso has other non-Microsoft assets to monitor and protect.
The IT director at Contoso realizes that SecOps team did not react quickly last time when a security incident occur in their organizations. 
He believes that Azure Sentinel Playbooks will improve their SecOps team to quickly identify potential security threats and react appropriate to stop them.
As Contoso's lead security engineer and Azure administrator, you've been asked to setup Azure Sentinel Playbook to respond on security incident.
In this module, you will learn about Azure Sentinel playbooks, including how to write and edit them, configuring their workflow, and managing them.


## 2nd unit: What are Azure Sentinel Playbooks?

**Type of unit:** Learning content unit

**Estimated unit duration:** 10 mins

### Key content per learning objective

After completing this unit, you&#39;ll be able to understand how to leverage Playbooks to perform SOAR for incidents

- What are Azure Sentinel Playbooks
- Describe Azure Logic Apps
- Explain the Azure Sentinel Logic Apps connector
- Use playbooks to orchestrate or Automate actions


## 3rd unit: Trigger playbooks near real time

**Type of unit:** Learning content unit

**Estimated unit duration:** 12 mins

### Key content per learning objective

After completing this unit, you&#39;ll be able to create a playbook to automate a response to incident

- Create a playbook to respond on incident near real time
- Work with Azure Sentinel connection in Logic Apps
- Automate a response to analytic rule with playbooks


## 4th unit: Run playbooks on demand

**Type of unit:** Learning content unit

**Estimated unit duration:** 8 mins

### Key content per learning objective

After completing this unit, you&#39;ll be able to run a playbook on demand from the incident details

- Explore the incident page
- Run a playbook on demand


## 5th unit: Create an Azure Sentinel playbook

**Type of unit:** Exercise unit

**Estimated unit duration:** 10 mins

**Use of supplemental demo video:** Potentially

### Key content per learning objective

- Draft lab exercise title: Creating Azure Sentinel playbook
  - Task 1. Add a playbook from Logic App
  - Task 2. Add a Azure Sentinel connector in Logic App
  - Task 3. Add a trigger to Azure Sentinel Connection
  - Task 4. Add an action
  - Task 5. Test the result of the playbook
  
In this exercise, you will learn to:

- Create a new playbook
- Use the Logic App Designer
- Work with Azure Sentinel Logic Apps Connector

Review the steps for this exercise: Create an Azure Sentinel using the portal.

If you want to repeat these steps, get a free trial Azure subscription.

After completing the steps, delete any resource groups you created.


## 6th unit: Summary

**Type of unit:** Summary unit

**Estimated unit duration:** 2 mins

### Resolution of module problem

Contoso SecOps team can benefit from SOAR capabilities of Azure Sentinel to quickly react on a security incident. With Sentinel playbooks, that are based on Logic App with Azure Sentinel connector, they can provide real-time response on incidents.
