Imagine that your IT department's management want to monitor the Company's Technology Wiki, and you've decided that an Azure Function will need to be triggered by Wiki updates for this to happen.

In this exercise, you'll create an Azure Function, and trigger the function using a webhook.

## Create a Function App

[!include[](../../../includes/azure-sandbox-activate.md)]

1. Sign in to the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using your MS Learn account.

1. Select the **+ Create a resource** button found on the upper left-hand corner of the Azure portal, click **Compute**, and then click **Function App**.

1. On the **Function App** page, enter the following settings:

    > [!NOTE]
    > The function app must have a unique name. We suggest using something like **\<*your name or initials*\>triggerapp**. Use this name wherever you see *\<your-functionapp-name\>* in this exercise.

    | Property  | Value  |
    |---|---|
    | Name | *\<your-functionapp-name\>* |
    | Subscription | Concierge Subscription  |
    | Resource Group | <rgn>[sandbox resource group name]</rgn> |
    | OS | Windows |
    | Hosting Plan | Consumption plan |
    | Location | Accept the default location |
    | Runtime Stack | **JavaScript** |
    | Storage | Create new, and accept the default name |

1. Click **Create**, and wait for the function app to be deployed before continuing.

## Create a webhook triggered function

1. In the left-hand pane of the portal, click **All resources**, and then click your function app.

1. On the function app page, expand your new function app, and then select the **+** button next to **Functions**.

1. In the **Azure Function for JavaScript - getting started** pane, click **In-portal**, and then click **Continue**.

1. Click **WebHook + API**, and then click **Create**.

   The portal will create a JavaScript function that looks similar to this:

    ```JavaScript
    module.exports = async function (context, req) {
        context.log('JavaScript HTTP trigger function processed a request.');

        if (req.query.name || (req.body && req.body.name)) {
            context.res = {
                // status: 200, /* Defaults to 200 */
                body: "Hello " + (req.query.name || req.body.name)
            };
        }
        else {
            context.res = {
                status: 400,
                body: "Please pass a name on the query string or in the request body"
            };
        }
    };
    ```

    This is the default JavaScript function generated by the portal. It reads a name either passed in as a query string or as part of the request body, and responds with a "Hello" message.

1. On the right-hand side of the screen, click **View files**, and then click **function.json**. This file contains the binding information for the function:

    ```JSON
    {
        "bindings": [
            {
                "authLevel": "function",
                "type": "httpTrigger",
                "direction": "in",
                "name": "req",
                "methods": [
                    "get",
                    "post"
                ]
            },
            {
                "type": "http",
                "direction": "out",
                "name": "res"
            }
        ]
    }
    ```

    The binding specifies that the function is triggered by HTTP GET and POST requests directed towards the URL of the function app.

## Test triggering your function

1. In your new function, click **</> Get function URL** at the top.

2. In the **Get function URL** message box, select **default (Function key)**, and then click **Copy**. The URL will look something like this:

    ```text
    https://<your-functionapp-name>.azurewebsites.net/api/HttpTrigger1?code=aUjXIpqdJ0ZHPQuB0SzFegxGJu0nAXmsQBnmkCpJ6RYxleRaoxJ8cQ==
    ```

3. Paste the function URL into your browser's address bar. Add the query string value &name=*\<yourname\>* to the end of this URL and press the Enter key on your keyboard to execute the request. You should see the response returned by the function displayed in the browser. It will look something like this:

    ```text
    Hello John Smith
    ```