Azure Cosmos DB for PostgreSQL is uniquely positioned for hosting multi-tenant software-as-a-service (SaaS) applications at any scale. SaaS application providers can start small with a single-node database and, if necessary, horizontally scale the database to a multi-node model capable of hosting millions of tenants. This transition can be accomplished with minimal application disruption and without requiring re-architecting the SaaS application. It also allows SaaS application developers to continue using familiar relational semantics in PostgreSQL, like joins, foreign key constraints, and transactions.

This module examines the concepts and considerations that must be accounted for when developing, managing, and monitoring multi-tenant software-as-a-service (SaaS) applications with Azure Cosmos DB for PostgreSQL. You can create powerful distributed multi-tenant databases by understanding multi-tenant data architectures with tenant IDs and tenant-level monitoring.

## Scenario: Horizontally scale an Azure Cosmos DB for PostgreSQL multi-tenant database with minimal disruption

You were recently hired as the lead data architect for Tailspin Toys and have been put in charge of maintaining the multi-tenant database behind its SaaS platform, which hosts websites for boutique toy stores worldwide. Tailspin's SaaS application provides tools to allow toy stores of all sizes to build, host, and manage online storefronts for selling their products.

Tailspin Toys has been successfully running the database as a single-node instance of Azure Cosmos DB for PostgreSQL. Recently, however, after a very successful marketing campaign, the number of stores hosting their websites in the application significantly increased. With this increase in the number of tenants, they have begun noticing degraded query performance and slower response times, which they believe is caused by some of the larger stores with more customer traffic consuming more resources than other smaller stores.

They have asked you to monitor the database to determine which stores consume the most resources. Using this information, they would like you to implement a solution to isolate larger stores and better utilize database resources evenly across all stores. Tailspin Toys has also requested that any changes you make to the database have a minimal impact on the application.

To address this issue, you have decided to scale the database horizontally by transitioning to a multi-node instance of Azure Cosmos DB for PostgreSQL, taking advantage of the ability to parallelize workloads by transforming SQL queries and distributing them across multiple nodes. You will then monitor the database to identify the stores with the highest traffic and isolate some of the larger stores onto dedicated nodes to provide consistent performance for all tenants.
