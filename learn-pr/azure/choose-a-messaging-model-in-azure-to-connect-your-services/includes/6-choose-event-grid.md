## Motivation

Many applications use events to notify distributed components that something happened or some object changed. You can use Event Grid to make it easy to distribute those events through Azure.

Suppose you have a music-sharing application with a Web API that runs in Azure. When a new sound file is uploaded by a user, you need to notify all the mobile apps installed on user devices around the world.

You can use subscriptions to Azure Event Grid to acheive this reliability and quickly.

## What is Event Grid?

Azure Event Grid is a service that distributes events from sources, such as Azure Blob Storage accounts or Media Services, to subscribers, such as Azure Functions or Web Hooks.

An event source is any component that can generate an event. For example, a user might add a new media file to a Blob Storage account. This generates an event that Event Grid can distribute.

An event subscriber is any component that can receive events from Event Grid. For example, an Azure Function can execute code that responds to the new media file in the Blob Storage account.

Event grid makes it easy to connect sources to multiple subscribers.

![Event grid sources and subscribers](../images/6-event-grid.png)

## Event Sources

Events can be generated by the following Azure resource types:

- **Azure Subscriptions and Resource Groups.** Subscriptions and resource groups generate events related to management operations in Azure. For example, when a user creates a Virtual Machine (VM), this source generates an event.
- **Storage Accounts.** Storage accounts can generate events when users add blobs, files, table entries, or queue messages. You can use both blob accounts and general purpose accounts as event sources.
- **Media Services.** Media Services hosts video and audio media and provides advanced management features for media files. Media Services can generate events when an encoding job is started or completed on a video file.
- **IoT Hub.** The Azure Internet of Things (IoT) hub communicates with and gather telemetry from IoT devices. It can generate events whenever such communications arrive.
- **Custom Events.** Custom events are generated by custom .NET code. For example, you could create a custom event in an Azure Web App worker role when it picks up a message from a storage queue.

This broad integration with diverse event sources within Azure ensures that Event Grids can distribute events that relate to almost any Azure resource.

## Topics

In Azure Event Grid, a topic is a collection of related events. When you publish events from a source, you decide whether those events need only a single topic or to be divided into multiple topics. Components that receive and handle events subscribe to topics to determine the events they will receive.

## Subscriptions

Event handlers use subscriptions to tell Event Grid which events in a topic they want to receive. The subscription also fixes the endpoint - this is the location that Event Grid sends event notifications. A subscription can also filter events by their type or by their subject so you can ensure an event handler only receives relevant events.

## Event Handlers

The following object types in Azure can receive and handle events from Event Grid:

- **Azure Functions.** An Azure Function consists of custom code that runs in Azure with no host virtual server or container. Use an Azure Function as an event handler when you want to code a custom response to the event.
- **WebHooks.** A WebHook is Web API that implements a push architecture.
- **Logic Apps.** An Azure Logic App hosts a business process as a workflow.
- **Microsoft Flow.** Flow also hosts workflows but is easier for non-technical staff to use.

## How to choose

Use Event Grid when you need these features:

- **Simplicity.** It is very easy to connect sources to subscribers in Event Grid.
- **Advanced filtering.** Subscriptions have close control over the events they receive from a topic.
- **Fan-out.** You can subscribe an unlimited number of endpoints to the same events and topics.
- **Reliability** Event Grid retries event delivery for up to 24 hours for each subscription.
- **Pay-per-event** Pay only for the number of events that you transmit.
- **High throughput** Event Grid supports millions of events per second.

## Summary

Event Grid is a simple but versatile event distribution system. Use it to publish events to subscribers, which will receive those events reliably and quickly.