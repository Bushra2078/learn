Data encryption in transit helps protect data from interception and applies to the following scenarios involving data traveling between:

* Customer's end users and Azure service.
* Customer's on-premises datacenter and Azure region.
* Microsoft datacenters as part of expected Azure service operation.

## Customer's end users connection to Azure service

Most customers will connect to Azure over the internet, and the precise routing of network traffic will depend on the many network providers that contribute to internet infrastructure. As stated in the Online Services [Data Protection Addendum](https://aka.ms/DPA) (DPA), Microsoft doesn't control or limit the regions from which customer or customer's end users may access or move customer data. Customers can increase security by enabling encryption in transit. For example, customers can use [Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-end-to-end-ssl-powershell) to configure end-to-end encryption of traffic. As describe later in the module, Azure uses the Transport Layer Security (TLS) protocol to help protect data when it's traveling between customers and Azure services. However, Microsoft can't control network traffic paths corresponding to customer's end-user interaction with Azure.

## Customer's datacenter connection to Azure region

[Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) (VNet) provides a means for Azure Virtual Machines (VMs) to act as part of a customer's internal (on-premises) network. Customers have options to securely connect to a VNet from their on-premises infrastructure – choose an [IPSec protected VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways) (for example, point-to-site VPN or site-to-site VPN) or a private connection by using Azure [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction) with several data [encryption options](https://docs.microsoft.com/azure/expressroute/expressroute-about-encryption).

An IPSec protected tunnel is established across the public internet, and the customer needs to rely on the local Internet Service Provider (ISP) for any network-related assurances. ExpressRoute allows customers to create private connections between Microsoft datacenters and their on-premises infrastructure or colocation facility. ExpressRoute connections don't go over the public internet and offer lower latency and higher reliability than IPSec protected VPN connections. [ExpressRoute locations](https://docs.microsoft.com/azure/expressroute/expressroute-locations-providers) are the entry points to Microsoft global network backbone and they may or may not match the location of Azure regions. For example, customers can connect to Microsoft in Amsterdam through ExpressRoute and have access to all Azure cloud services hosted in Northern and Western Europe. However, it's also possible to have access to the same Azure regions from ExpressRoute connections located elsewhere in the world. Once the network traffic enters the Microsoft backbone, it's guaranteed to traverse that private networking infrastructure instead of the public internet.

## Traffic across Microsoft global network backbone

Inter-region traffic is encrypted using [Media Access Control Security](https://en.wikipedia.org/wiki/IEEE_802.1AE) (MACsec), which protects network traffic at the data link layer (Network Layer 2) and relies on AES-128 block cipher for encryption. This traffic stays entirely within the Microsoft [global network backbone](https://docs.microsoft.com/azure/networking/microsoft-global-network) and never enters the public internet. The backbone is one of the largest in the world with more than 160,000 km of lit fiber optic and undersea cable systems. However, network traffic isn't guaranteed to always follow the same path from one Azure region to another. To provide the reliability needed for the Azure cloud, Microsoft has many physical networking paths with automatic routing around failures for optimal reliability. This means that Microsoft can't guarantee that network traffic traversing between Azure regions will always be confined to the corresponding Geo. In case of networking infrastructure disruptions, Microsoft can reroute the encrypted network traffic across its private backbone to ensure service availability and best possible performance.

## Encryption options for data in transit

Azure provides many options for [encrypting data in transit](https://docs.microsoft.com/azure/security/fundamentals/encryption-overview#encryption-of-data-in-transit):

* **Transport Layer Security (TLS):** Azure uses the TLS protocol to help protect data when it's traveling between customers and Azure services, leveraging RSA-2048 for key exchange and AES-256 for data encryption. TLS provides strong authentication, message privacy, and integrity. [Perfect Forward Secrecy](https://en.wikipedia.org/wiki/Forward_secrecy) (PFS) protects connections between customer's client systems and Microsoft cloud services by generating a unique session key for every session a customer initiate. PFS protects past sessions against potential future key compromises. This combination makes it more difficult to intercept and access data in transit.
* **Azure Storage transactions:** When using the Storage REST APIs, customers get to choose between HTTP and HTTPS access. Customers can enforce the [“secure transfer required”](https://docs.microsoft.com/azure/storage/common/storage-require-secure-transfer) option, though, which allows access only from secure connections. This way, customers can move data to and from Azure Storage over encrypted connections.
* **In-transit encryption for VMs:** Remote sessions to Windows and Linux VMs deployed in Azure can be conducted over protocols that ensure data encryption in transit such as [Remote Desktop Protocol](https://docs.microsoft.com/windows/win32/termserv/remote-desktop-protocol) (RDP) initiated from a client computer to Windows and Linux VMs to enable TLS protection for data in transit, and [Secure Shell](https://docs.microsoft.com/azure/virtual-machines/linux/ssh-from-windows) (SSH) for encrypted connections to Linux VMs running in Azure.
* VPN encryption: Customers can use [Azure VPN Gateway](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways) to send encrypted traffic between their VNet and their on-premises infrastructure across the public internet, such as a site-to-site VPN that relies on IPSec for transport encryption. Customers can configure Azure VPN Gateway to use custom IPSec/IKE policy with specific cryptographic algorithms and key strengths instead of relying on the default Azure policies.
* **ExpressRoute encryption:** Customers can create private connections between their on-premises infrastructure and Azure by using Azure [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction) with several data [encryption options](https://docs.microsoft.com/azure/expressroute/expressroute-about-encryption), including MACsec that enables customers to store MACsec secrets in Azure Key Vault.

Customers should review Azure [best practices](https://docs.microsoft.com/azure/security/fundamentals/data-encryption-best-practices#protect-data-in-transit) for the protection of data in transit and properly configure HTTPS endpoints for their resources provisioned in Azure to help ensure that all data in transit is encrypted. For key Azure services (for example, Azure SQL Database), data encryption in transit is [enforced by default](https://docs.microsoft.com/azure/sql-database/sql-database-security-overview#information-protection-and-encryption).

Next, we'll look at how encryption can protect data while at rest.
