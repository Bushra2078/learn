Azure Arc also simplifies the process of centralizing and standardizing enterprise-wide management, monitoring, and protection of technology assets regardless of their location. In this unit, you will learn how this principle applies to Azure Arc enabled servers.

## What are the benefits of Azure Monitor in Azure Arc enabled servers scenarios?

With Azure Arc, the Azure portal can provide a centralized dashboard for status monitoring and a launching pad for management of all your Azure Stack HCI clusters, along with all of your Azure and Azure Arc enabled resources. The home page for the Azure Stack HCI resources lists all of your clusters, along with their resource group, location, and associated subscription. For each cluster, you can readily identify its name, OS version, OS build, model, total number of CPU cores, and its nodes. For each node, the portal displays its manufacturer, model, serial number, total number of CPU cores, the amount of memory, as well as OS version and OS build. 

More in-depth monitoring, alerting, log collection, and log analytics are available through integration with Azure Monitor. The simplest way to onboard your cluster to Azure Monitor is by using the automated workflow in Windows Admin Center, which first provisions a Log Analytics workspace in the target Azure subscription and then configures the Health Service and installs the Log Analytics agent on each cluster node. Alternatively, you can accomplish the same outcome by using Windows PowerShell. 

Once this process is completed, cluster nodes will start forwarding telemetry and logs to Azure Monitor, which you can subsequently display via Azure Monitor dashboards and analyze via Log Analytics queries. You also have the option of implementing metric or log-based rules that will trigger alerts and auto-remediation tasks. 

Cloud-based monitoring might potentially eliminate the need for an on-premises monitoring system. If you have existing Azure resources, this will provide a uniform monitoring solution that leverages cloud hyperscale and seamlessly integrates with other Azure services. 



You can use Monitor to optimize the administration of your existing deployments and to forecast capacity requirements for future deployments. Monitor provides three main capabilities, which the following table describes.

|Capability|Description|
|------------------------------------|------------------------------------------------------------|
|Monitoring and metrics visualization|Metrics are numerical values that represent the health status of monitored systems.|
|Querying and analyzing logs|Logs include activity, diagnostics, and telemetry. Their analysis provides deep insights into the state of monitored systems and helps facilitate troubleshooting.|
|Alerting and remediation|You can configure these to automatically trigger corrective actions to remediate any issues.|

Monitor delivers focused, in-depth monitoring capabilities through:

- Deep infrastructure monitoring. This category includes Log Analytics combined with monitoring solutions, such as Service Map, and network monitoring tools, such as Network Watcher and Azure ExpressRoute Monitor.
- Deep application monitoring. This category includes Application Insights, which facilitates monitoring of performance, availability, and usage of web-based applications, regardless of their locations.

Both infrastructure and application monitoring services share capabilities that provide a consistent approach to configuring alerts, including:

- Common action groups that designate alert-triggered actions and recipients of the alerts.
- Designing custom dashboards.
- Analyzing metrics by using tools such as Metrics Explorer or Power BI.

Monitor supports collecting and monitoring metrics, activity and diagnostics logs, and events from a wide range of Azure services and computers both in on-premises datacenters and with other cloud providers. It provides a quick way to assess the status of your environment by using the Azure portal. Monitor presents a summary of triggered alerts, logs, metrics, and application-related telemetry originating from Application Insights. You can also access its data by using Azure PowerShell, the Azure CLI, REST APIs, and the Microsoft .NET SDK.

Additionally, Monitor enables you to archive collected data in Azure Storage for long-term analysis or compliance purposes. You can also route the data to Azure Stream Analytics or to services from Microsoft and others by using Azure Event Hubs. You set up and use alerts to:

- Trigger notifications via text message or email.
- Trigger a remediation action as implemented by Azure Logic Apps, Azure Functions, or a runbook in Azure Automation.
- Raise an incident and work items by taking advantage of the integration between Monitor and your internal IT service Management platform.

You can also store and analyze near real-time and historical data by using Log Analytics. For on-premises computers and Azure VMs, this requires installing the Log Analytics agent, and in some cases, the Dependency Agent as well. This agent-based approach enables you to monitor the OS and its workloads by using Automation-based or Monitor-based solutions such as Update Management or Change Tracking and Inventory. You can also use Azure Security Center to identify vulnerabilities and potential threats.







Contoso could use Azure Monitor to help monitor and manage their existing on-premises server resources. By integrating with Azure Arc, Contoso could extend comprehensive, cloud-based monitoring functionality beyond Azure to their on-premises resources, or to those hosted by third-party providers.

By maintaining their on-premises infrastructures, Contoso can benefit from this functionality when tracking, auditing, or troubleshooting past events. Using Monitor, you can monitor resources such as your onboarded servers. For example, you can select **Insights** to review a map of your resources' network connections.

:::image type="content" source="../media/4-insights-map.png" alt-text="Screenshot that depicts the Map tab on the Insights page for a VM in Azure. ContosoVM1 is displayed with details of open TCP ports. A VM summary is also displayed, detailing the VM's operating system, IP address, and links for Health, Machine properties, and Azure VM properties. Three buttons are displayed for access to Properties (selected), Log Events, Alerts, and Connections." border="false":::




## What are the benefits of Azure Security Center in Azure Arc enabled servers scenarios?





## What are the benefits of the Update Management feature of Azure Automation in Azure Arc enabled servers scenarios?

Microsoft Azure Update Management is a hybrid solution that facilitates management and monitoring of operating system updates in hybrid scenarios. It provides comprehensive information on the update status and helps remediate any gaps in an automated manner by combining the functionality of several Azure services. It also takes advantage of standard update deployment technologies, including Windows Update Services, Windows Server Update Services (WSUS), and Endpoint Configuration Manager.





## What are the benefits of the Azure Automation Desired State Configuration (DSC) in Azure Arc enabled servers scenarios?

Azure Automation is an Azure service that helps you automate a number of repetitive and long-running tasks both in Azure and on-premises. You can implement this automation by using custom scripts that can target Azure and on-premises resources. For management of on-premises resources, Azure Automation relies on an agent referred to as Hybrid Runbook Worker, installed on the managed computers. In addition, Azure Automation supports configuration management by using several built-in solutions that include Azure Update Management. The Azure Update Management solution makes use of data collected from Windows servers by Azure Monitor and stored in the designated Log Analytics workspace. As explained earlier in this lesson, you can accomplish this by installing Log Analytics Agent, which registers managed computers with the Log Analytics workspace and continually uploads locally collected data to it. The Log Analytics engine analyzes collected data to determine the update compliance status of each managed server.












## What is the purpose of Azure Resource Manager activity log, access control, locks, and tags in case of Azure Stack HCI clusters?

Just as with Azure enabled servers, the Azure portal offers the interface from which you can monitor activity log and manage access control, tags, and locks associated with the Azure resource representing each of your Azure Stack HCI clusters. The Azure Resource Manager activity log provides a list of recent operations and events on the cluster along with their status, time, associated subscription, and initiating user. You can filter events by subscription, severity, time span, resource group, and resource. Access control settings allow you to review and modify role assignments that grant permissions to the Azure resource. By creating a resource lock, you can prevent accidental changes or deletions of the Azure Stack HCI cluster resource. Tags allow you enable you to categorize resources and facilitate consolidated billing. 


